{"ast":null,"code":"var _jsxFileName = \"/home/gadacha/Bureau/matcha/src/components/MemberProfile/Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { FaChevronRight } from \"react-icons/fa\";\nimport { IoChatbubblesSharp } from \"react-icons/io5\";\nimport { MdSend } from \"react-icons/md\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { BiMessageSquareDots } from \"react-icons/bi\";\nimport MsgIn from './MsgIn';\nimport MsgOut from './MsgOut';\nimport UserImage from \"../../images/user-image.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = props => {\n  _s();\n\n  // CHAT DRAWER ↓↓↓\n  const [chatDrawer, setChatDrawer] = useState(false);\n\n  const moveChatDrawer = e => {\n    e.preventDefault();\n    let chatElement = document.querySelector('.chat');\n    chatElement.classList.contains('chatOpen') ? chatElement.classList.remove('chatOpen') : chatElement.classList.add('chatOpen');\n    setChatDrawer(!chatDrawer);\n    props.onChatChange(!chatDrawer);\n  };\n\n  const theChatDrawer = chatDrawer ? /*#__PURE__*/_jsxDEV(FaChevronRight, {\n    className: \"iconChatDrawer\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 27\n  }, this) : /*#__PURE__*/_jsxDEV(IoChatbubblesSharp, {\n    className: \"iconChatDrawer\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 27\n  }, this);\n  const chatContent = chatDrawer ? 'chat-content-open' : 'chat-content-close';\n  const allChat = [{\n    msg: \"Salut\",\n    userID: '934'\n  }, {\n    msg: \"Bonjour\",\n    userID: '000'\n  }, {\n    msg: \"Comment ca va ?\",\n    userID: '934'\n  }, {\n    msg: \"Ca va et toi\",\n    userID: '000'\n  }, {\n    msg: \"Oui ca va. Tu fais quoi ?\",\n    userID: '934'\n  }, {\n    msg: \"Rien de special et toi\",\n    userID: '000'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n    userID: '934'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n    userID: '000'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n    userID: '934'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n    userID: '000'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n    userID: '934'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n    userID: '000'\n  }, {\n    msg: \"Non meme pas...\",\n    userID: '934'\n  }, {\n    msg: \"Au revoir\",\n    userID: '000'\n  }]; // WRITTEN MESSAGE ↓↓↓\n\n  const [theMessage, SetTheMessage] = useState('');\n\n  const newMessage = e => {\n    SetTheMessage(e.target.value);\n  };\n\n  const handleAddNewMsg = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (theMessage !== '') {\n      setChatMessages(prevState => [...prevState, {\n        msg: theMessage,\n        userID: '000'\n      }]);\n      SetTheMessage('');\n    }\n  };\n\n  const styleIcon0 = {\n    backgroundColor: '#8FA3AD',\n    cursor: 'initial'\n  };\n  const styleIcon1 = {\n    backgroundColor: '#4285F4',\n    cursor: 'pointer'\n  };\n  const colorSendIcon = theMessage === '' ? styleIcon0 : styleIcon1; // SEND MSG WITH ENTER KEY ↓↓↓\n\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleAddNewMsg();\n    }\n  }; // CHAT MESSAGES ↓↓↓\n\n\n  const [chatMessages, setChatMessages] = useState(allChat); // SCROLL IN BOTTOM ↓↓↓\n\n  useEffect(() => {\n    const scrollChat = document.querySelector('.discussion');\n    scrollChat.scrollTop = scrollChat.scrollHeight;\n  }, [chatMessages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"iconChatDrawerContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"iconChatDrawerDiv centerElementsInPage\",\n        onClick: moveChatDrawer,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"nb-notif-chat-drawer\",\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), theChatDrawer]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: chatContent,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"discussionContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"interlocutor\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"BiMessageSquareDots\",\n            children: /*#__PURE__*/_jsxDEV(BiMessageSquareDots, {\n              size: \"25\",\n              color: \"whitesmoke\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"centerElementsInPage\",\n            style: {\n              width: '60%',\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: UserImage,\n              alt: \"interlocutor\",\n              className: \"interlocutor-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"interlocutor-name\",\n              children: \"username-269428\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n            title: /*#__PURE__*/_jsxDEV(BsThreeDotsVertical, {\n              size: \"22\",\n              color: \"whitesmoke\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 45\n            }, this),\n            id: \"dropdown-delete-link\",\n            className: \"dropdown-delete-discussion-div\",\n            children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              className: \"dropdown-delete-discussion\",\n              children: [/*#__PURE__*/_jsxDEV(RiDeleteBin5Line, {\n                className: \"icons-dropdown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this), \"Suppr. discussion\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"discussion\",\n          children: chatMessages.map(msg => {\n            if (msg.userID === '000') {\n              return /*#__PURE__*/_jsxDEV(MsgIn, {\n                msgContent: msg.msg\n              }, uuidv4(), false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 40\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(MsgOut, {\n                msgContent: msg.msg\n              }, uuidv4(), false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 40\n              }, this);\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"text-to-send\",\n        onSubmit: handleAddNewMsg,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: theMessage,\n          onChange: newMessage,\n          onKeyDown: handleKeyDown,\n          className: \"chat-textarea\",\n          autoComplete: \"off\",\n          placeholder: \"Message\",\n          minLength: \"1\",\n          maxLength: \"255\",\n          autoCapitalize: \"on\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(MdSend, {\n            className: \"send-icon\",\n            style: colorSendIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Chat, \"+g37E9t/bCz0rNDqUXrXFxY6NMw=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/home/gadacha/Bureau/matcha/src/components/MemberProfile/Chat.js"],"names":["React","useState","useEffect","v4","uuidv4","FaChevronRight","IoChatbubblesSharp","MdSend","BsThreeDotsVertical","NavDropdown","RiDeleteBin5Line","BiMessageSquareDots","MsgIn","MsgOut","UserImage","Chat","props","chatDrawer","setChatDrawer","moveChatDrawer","e","preventDefault","chatElement","document","querySelector","classList","contains","remove","add","onChatChange","theChatDrawer","chatContent","allChat","msg","userID","theMessage","SetTheMessage","newMessage","target","value","handleAddNewMsg","stopPropagation","setChatMessages","prevState","styleIcon0","backgroundColor","cursor","styleIcon1","colorSendIcon","handleKeyDown","key","shiftKey","chatMessages","scrollChat","scrollTop","scrollHeight","width","height","map"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,kBAAT,QAAmC,iBAAnC;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,mBAAT,QAAoC,gBAApC;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AACA,SAASC,mBAAT,QAAoC,gBAApC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAOC,SAAP,MAAsB,6BAAtB;;;AAGA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AAEpB;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,KAAD,CAA5C;;AAEA,QAAMkB,cAAc,GAAGC,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAIC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAlB;AAEAF,IAAAA,WAAW,CAACG,SAAZ,CAAsBC,QAAtB,CAA+B,UAA/B,IACAJ,WAAW,CAACG,SAAZ,CAAsBE,MAAtB,CAA6B,UAA7B,CADA,GAEAL,WAAW,CAACG,SAAZ,CAAsBG,GAAtB,CAA0B,UAA1B,CAFA;AAIAV,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACAD,IAAAA,KAAK,CAACa,YAAN,CAAmB,CAACZ,UAApB;AACH,GAXD;;AAaA,QAAMa,aAAa,GAAGb,UAAU,gBACV,QAAC,cAAD;AAAgB,IAAA,SAAS,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,UADU,gBAEV,QAAC,kBAAD;AAAoB,IAAA,SAAS,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,UAFtB;AAKA,QAAMc,WAAW,GAAGd,UAAU,GACV,mBADU,GAEV,oBAFpB;AAMA,QAAMe,OAAO,GAAG,CACZ;AACIC,IAAAA,GAAG,EAAE,OADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GADY,EAKZ;AACID,IAAAA,GAAG,EAAE,SADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GALY,EASZ;AACID,IAAAA,GAAG,EAAE,iBADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GATY,EAaZ;AACID,IAAAA,GAAG,EAAE,cADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GAbY,EAiBZ;AACID,IAAAA,GAAG,EAAE,2BADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GAjBY,EAqBZ;AACID,IAAAA,GAAG,EAAE,wBADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GArBY,EAyBZ;AACID,IAAAA,GAAG,EAAE,+IADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GAzBY,EA6BZ;AACID,IAAAA,GAAG,EAAE,+GADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GA7BY,EAiCZ;AACID,IAAAA,GAAG,EAAE,+IADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GAjCY,EAqCZ;AACID,IAAAA,GAAG,EAAE,+GADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GArCY,EAyCZ;AACID,IAAAA,GAAG,EAAE,+IADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GAzCY,EA6CZ;AACID,IAAAA,GAAG,EAAE,+GADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GA7CY,EAiDZ;AACID,IAAAA,GAAG,EAAE,iBADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GAjDY,EAqDZ;AACID,IAAAA,GAAG,EAAE,WADT;AAEIC,IAAAA,MAAM,EAAE;AAFZ,GArDY,CAAhB,CA7BoB,CAwFpB;;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BnC,QAAQ,CAAC,EAAD,CAA5C;;AAEA,QAAMoC,UAAU,GAAIjB,CAAD,IAAO;AACtBgB,IAAAA,aAAa,CAAChB,CAAC,CAACkB,MAAF,CAASC,KAAV,CAAb;AACH,GAFD;;AAIA,QAAMC,eAAe,GAAIpB,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACAD,IAAAA,CAAC,CAACqB,eAAF;;AACA,QAAIN,UAAU,KAAK,EAAnB,EAAuB;AACnBO,MAAAA,eAAe,CAACC,SAAS,IAAI,CAAC,GAAGA,SAAJ,EAAe;AACxCV,QAAAA,GAAG,EAAEE,UADmC;AAExCD,QAAAA,MAAM,EAAE;AAFgC,OAAf,CAAd,CAAf;AAIAE,MAAAA,aAAa,CAAC,EAAD,CAAb;AACH;AACJ,GAVD;;AAaA,QAAMQ,UAAU,GAAG;AAACC,IAAAA,eAAe,EAAE,SAAlB;AAA6BC,IAAAA,MAAM,EAAE;AAArC,GAAnB;AACA,QAAMC,UAAU,GAAG;AAACF,IAAAA,eAAe,EAAE,SAAlB;AAA6BC,IAAAA,MAAM,EAAE;AAArC,GAAnB;AACA,QAAME,aAAa,GAAGb,UAAU,KAAK,EAAf,GAAoBS,UAApB,GAAiCG,UAAvD,CA9GoB,CAgHpB;;AACA,QAAME,aAAa,GAAI7B,CAAD,IAAO;AACzB,QAAIA,CAAC,CAAC8B,GAAF,KAAU,OAAV,IAAqB,CAAC9B,CAAC,CAAC+B,QAA5B,EAAsC;AAClC/B,MAAAA,CAAC,CAACC,cAAF;AACAmB,MAAAA,eAAe;AAClB;AACJ,GALD,CAjHoB,CAyHpB;;;AACA,QAAM,CAACY,YAAD,EAAeV,eAAf,IAAkCzC,QAAQ,CAAC+B,OAAD,CAAhD,CA1HoB,CA6HpB;;AACA9B,EAAAA,SAAS,CAAE,MAAM;AACb,UAAMmD,UAAU,GAAG9B,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAnB;AACA6B,IAAAA,UAAU,CAACC,SAAX,GAAuBD,UAAU,CAACE,YAAlC;AACH,GAHQ,EAGN,CAACH,YAAD,CAHM,CAAT;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,wCAAf;AAAwD,QAAA,OAAO,EAAEjC,cAAjE;AAAA,gCACI;AAAM,UAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKW,aAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAOI;AAAK,MAAA,SAAS,EAAEC,WAAhB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA,mCACI,QAAC,mBAAD;AAAqB,cAAA,IAAI,EAAC,IAA1B;AAA+B,cAAA,KAAK,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAsC,YAAA,KAAK,EAAE;AAACyB,cAAAA,KAAK,EAAE,KAAR;AAAeC,cAAAA,MAAM,EAAE;AAAvB,aAA7C;AAAA,oCACI;AAAK,cAAA,GAAG,EAAE3C,SAAV;AAAqB,cAAA,GAAG,EAAC,cAAzB;AAAwC,cAAA,SAAS,EAAC;AAAlD;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAM,cAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAQI,QAAC,WAAD;AAAa,YAAA,KAAK,eAAE,QAAC,mBAAD;AAAqB,cAAA,IAAI,EAAC,IAA1B;AAA+B,cAAA,KAAK,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA,oBAApB;AAAyE,YAAA,EAAE,EAAC,sBAA5E;AAAmG,YAAA,SAAS,EAAC,gCAA7G;AAAA,mCACI,QAAC,WAAD,CAAa,IAAb;AAAkB,cAAA,SAAS,EAAC,4BAA5B;AAAA,sCACI,QAAC,gBAAD;AAAkB,gBAAA,SAAS,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,sBADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAeI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,oBACKsC,YAAY,CAACM,GAAb,CAAkBzB,GAAG,IAAI;AACtB,gBAAIA,GAAG,CAACC,MAAJ,KAAe,KAAnB,EAAyB;AACrB,kCAAO,QAAC,KAAD;AAAsB,gBAAA,UAAU,EAAED,GAAG,CAACA;AAAtC,iBAAY7B,MAAM,EAAlB;AAAA;AAAA;AAAA;AAAA,sBAAP;AACH,aAFD,MAGK;AACD,kCAAO,QAAC,MAAD;AAAuB,gBAAA,UAAU,EAAE6B,GAAG,CAACA;AAAvC,iBAAa7B,MAAM,EAAnB;AAAA;AAAA;AAAA;AAAA,sBAAP;AACH;AACJ,WAPA;AADL;AAAA;AAAA;AAAA;AAAA,gBAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eA2BI;AAAM,QAAA,SAAS,EAAC,cAAhB;AAA+B,QAAA,QAAQ,EAAEoC,eAAzC;AAAA,gCACI;AACI,UAAA,KAAK,EAAEL,UADX;AAEI,UAAA,QAAQ,EAAEE,UAFd;AAGI,UAAA,SAAS,EAAEY,aAHf;AAII,UAAA,SAAS,EAAC,eAJd;AAKI,UAAA,YAAY,EAAC,KALjB;AAMI,UAAA,WAAW,EAAC,SANhB;AAOI,UAAA,SAAS,EAAC,GAPd;AAQI,UAAA,SAAS,EAAC,KARd;AASI,UAAA,cAAc,EAAC;AATnB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAaI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA,iCACI,QAAC,MAAD;AAAQ,YAAA,SAAS,EAAC,WAAlB;AAA8B,YAAA,KAAK,EAAED;AAArC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAuDH,CA3LD;;GAAMjC,I;;KAAAA,I;AA6LN,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { FaChevronRight } from \"react-icons/fa\";\nimport { IoChatbubblesSharp } from \"react-icons/io5\";\nimport { MdSend } from \"react-icons/md\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { BiMessageSquareDots } from \"react-icons/bi\";\nimport MsgIn from './MsgIn';\nimport MsgOut from './MsgOut';\n\nimport UserImage from \"../../images/user-image.jpg\"\n\n\nconst Chat = (props) => {\n\n    // CHAT DRAWER ↓↓↓\n    const [chatDrawer, setChatDrawer] = useState(false)\n\n    const moveChatDrawer = e => {\n        e.preventDefault();\n        \n        let chatElement = document.querySelector('.chat');\n        \n        chatElement.classList.contains('chatOpen') ?\n        chatElement.classList.remove('chatOpen') :\n        chatElement.classList.add('chatOpen');\n        \n        setChatDrawer(!chatDrawer)\n        props.onChatChange(!chatDrawer)\n    }\n\n    const theChatDrawer = chatDrawer ?\n                          <FaChevronRight className='iconChatDrawer'/> :\n                          <IoChatbubblesSharp className='iconChatDrawer'/> ;\n\n\n    const chatContent = chatDrawer ?\n                        'chat-content-open' :\n                        'chat-content-close' ;\n\n    \n                        \n    const allChat = [\n        {\n            msg: \"Salut\",\n            userID: '934'\n        },\n        {\n            msg: \"Bonjour\",\n            userID: '000'\n        },\n        {\n            msg: \"Comment ca va ?\",\n            userID: '934'\n        },\n        {\n            msg: \"Ca va et toi\",\n            userID: '000'\n        },\n        {\n            msg: \"Oui ca va. Tu fais quoi ?\",\n            userID: '934'\n        },\n        {\n            msg: \"Rien de special et toi\",\n            userID: '000'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n            userID: '934'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n            userID: '000'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n            userID: '934'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n            userID: '000'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n            userID: '934'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n            userID: '000'\n        },\n        {\n            msg: \"Non meme pas...\",\n            userID: '934'\n        },\n        {\n            msg: \"Au revoir\",\n            userID: '000'\n        }\n    ]\n    \n    // WRITTEN MESSAGE ↓↓↓\n    const [theMessage, SetTheMessage] = useState('')\n    \n    const newMessage = (e) => {\n        SetTheMessage(e.target.value)\n    }\n    \n    const handleAddNewMsg = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (theMessage !== '') {\n            setChatMessages(prevState => [...prevState, {\n                msg: theMessage,\n                userID: '000'\n            }]);\n            SetTheMessage('');\n        }\n    }\n    \n    \n    const styleIcon0 = {backgroundColor: '#8FA3AD', cursor: 'initial'}\n    const styleIcon1 = {backgroundColor: '#4285F4', cursor: 'pointer'}\n    const colorSendIcon = theMessage === '' ? styleIcon0 : styleIcon1 ;\n\n    // SEND MSG WITH ENTER KEY ↓↓↓\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleAddNewMsg();\n        }\n    }\n    \n\n    // CHAT MESSAGES ↓↓↓\n    const [chatMessages, setChatMessages] = useState(allChat)\n    \n        \n    // SCROLL IN BOTTOM ↓↓↓\n    useEffect( () => {\n        const scrollChat = document.querySelector('.discussion')\n        scrollChat.scrollTop = scrollChat.scrollHeight\n    }, [chatMessages])\n    \n    \n    return (\n        <div className='chat'>\n            <div className='iconChatDrawerContainer'>\n                <div className='iconChatDrawerDiv centerElementsInPage' onClick={moveChatDrawer}>\n                    <span className='nb-notif-chat-drawer'>3</span>\n                    {theChatDrawer}\n                </div>\n            </div>\n            <div className={chatContent}>\n                <div className='discussionContainer'>\n                    <div className='interlocutor'>\n                        <div className='BiMessageSquareDots'>\n                            <BiMessageSquareDots size='25' color='whitesmoke' />\n                        </div>\n                        <div className='centerElementsInPage' style={{width: '60%', height: '100%'}}>\n                            <img src={UserImage} alt='interlocutor' className='interlocutor-image'/>\n                            <span className='interlocutor-name'>username-269428</span>\n                        </div>\n                        <NavDropdown title={<BsThreeDotsVertical size='22' color='whitesmoke'/>} id=\"dropdown-delete-link\" className='dropdown-delete-discussion-div'>\n                            <NavDropdown.Item className='dropdown-delete-discussion'>\n                                <RiDeleteBin5Line className='icons-dropdown' />Suppr. discussion\n                            </NavDropdown.Item>\n                        </NavDropdown>\n                    </div>\n                    <div className='discussion'>\n                        {chatMessages.map( msg => {\n                            if (msg.userID === '000'){\n                                return <MsgIn key={uuidv4()} msgContent={msg.msg} />\n                            }\n                            else {\n                                return <MsgOut key={uuidv4()} msgContent={msg.msg} />\n                            }\n                        })}\n                    </div>\n                </div>\n                <form className='text-to-send' onSubmit={handleAddNewMsg}>\n                    <textarea\n                        value={theMessage}\n                        onChange={newMessage}\n                        onKeyDown={handleKeyDown}\n                        className='chat-textarea'\n                        autoComplete='off'\n                        placeholder='Message'\n                        minLength='1'\n                        maxLength='255'\n                        autoCapitalize='on'\n                    >\n                    </textarea>\n                    <button type='submit'>\n                        <MdSend className='send-icon' style={colorSendIcon} />\n                    </button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}