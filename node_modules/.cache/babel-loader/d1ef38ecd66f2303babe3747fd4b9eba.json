{"ast":null,"code":"import _toConsumableArray from \"/home/gadacha/Bureau/matcha/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/gadacha/Bureau/matcha/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/gadacha/Bureau/matcha/src/components/MemberProfile/Chat.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { FaChevronRight } from \"react-icons/fa\";\nimport { IoChatbubblesSharp } from \"react-icons/io5\";\nimport { MdSend } from \"react-icons/md\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { IoMdHeart } from \"react-icons/io\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport MsgIn from './MsgIn';\nimport MsgOut from './MsgOut';\nimport UserImage from \"../../images/user-image.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Chat = function Chat(props) {\n  _s();\n\n  // CHAT DRAWER ↓↓↓\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      chatDrawer = _useState2[0],\n      setChatDrawer = _useState2[1];\n\n  var moveChatDrawer = function moveChatDrawer(e) {\n    e.preventDefault();\n    var chatElement = document.querySelector('.chat');\n    chatElement.classList.contains('chatOpen') ? chatElement.classList.remove('chatOpen') : chatElement.classList.add('chatOpen');\n    setChatDrawer(!chatDrawer);\n    props.onChatChange(!chatDrawer);\n  };\n\n  var theChatDrawer = chatDrawer ? /*#__PURE__*/_jsxDEV(FaChevronRight, {\n    className: \"iconChatDrawer\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 27\n  }, _this) : /*#__PURE__*/_jsxDEV(IoChatbubblesSharp, {\n    className: \"iconChatDrawer\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 27\n  }, _this);\n  var chatContent = chatDrawer ? 'chat-content-open' : 'chat-content-close';\n  var allChat = [{\n    msg: \"Salut\",\n    userID: '934'\n  }, {\n    msg: \"Bonjour\",\n    userID: '000'\n  }, {\n    msg: \"Comment ca va ?\",\n    userID: '934'\n  }, {\n    msg: \"Ca va et toi\",\n    userID: '000'\n  }, {\n    msg: \"Oui ca va. Tu fais quoi ?\",\n    userID: '934'\n  }, {\n    msg: \"Rien de special et toi\",\n    userID: '000'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n    userID: '934'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n    userID: '000'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n    userID: '934'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n    userID: '000'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n    userID: '934'\n  }, {\n    msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n    userID: '000'\n  }, {\n    msg: \"Non meme pas...\",\n    userID: '934'\n  }, {\n    msg: \"Au revoir\",\n    userID: '000'\n  }]; // CHAT MESSAGES ↓↓↓\n\n  var _useState3 = useState(allChat),\n      _useState4 = _slicedToArray(_useState3, 2),\n      chatMessages = _useState4[0],\n      setChatMessages = _useState4[1]; // WRITTEN MESSAGE ↓↓↓\n\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      theMessage = _useState6[0],\n      setTheMessage = _useState6[1];\n\n  var newMessage = function newMessage(e) {\n    setTheMessage(e.target.value);\n  }; // SEND MESSAGE ↓↓↓\n\n\n  var handleAddNewMsg = function handleAddNewMsg(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (theMessage !== '') {\n      setChatMessages(function (prevState) {\n        return [].concat(_toConsumableArray(prevState), [{\n          msg: theMessage,\n          userID: '000'\n        }]);\n      });\n      setTheMessage('');\n    }\n  }; // SEND MSG WITH ENTER KEY ↓↓↓\n\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      handleAddNewMsg(e);\n    }\n  }; // SEND BUTTON STYLE ↓↓↓\n\n\n  var sendCursor = theMessage === '' ? 'initial' : 'pointer';\n  var sendColor = theMessage === '' ? '#8FA3AD' : '#007bff'; // SCROLL IN BOTTOM ↓↓↓\n\n  useEffect(function () {\n    var scrollChat = document.querySelector('.discussion');\n    scrollChat.scrollTop = scrollChat.scrollHeight;\n  }, [chatMessages]); // DELETE DISCUSSION ↓↓↓\n\n  var onConfirmDeleteDiscussion = function onConfirmDeleteDiscussion() {\n    setChatMessages([]);\n    props.onDeleteDiscussionConfirmation();\n  };\n\n  var deleteDiscussion = {\n    act: \"Supprimer la discussion\",\n    quest: \"supprimer le contenu de la discussion\",\n    onConfirm: onConfirmDeleteDiscussion\n  };\n\n  var handleDeleteDiscussion = function handleDeleteDiscussion() {\n    chatMessages.length !== 0 && props.onDeleteDiscussion(deleteDiscussion);\n  };\n\n  var emptyChat = chatMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"empty-chat\",\n    children: \"La discussion est vide.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 23\n  }, _this) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"iconChatDrawerDiv centerElementsInPage\",\n      onClick: moveChatDrawer,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"nb-notif-chat-drawer\",\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, _this), theChatDrawer]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: chatContent,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"discussionContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"interlocutor\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"interlocutor-left-part\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: UserImage,\n              alt: \"interlocutor\",\n              className: \"interlocutor-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"interlocutor-name\",\n              children: \"username-269428\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"interlocutor-right-part\",\n            children: [/*#__PURE__*/_jsxDEV(IoMdHeart, {\n              size: \"23\",\n              color: \"#010103\",\n              className: \"m-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Dropdown, {\n              className: \"m-1\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                className: \"toogle-delete-discussion\",\n                children: /*#__PURE__*/_jsxDEV(BsThreeDots, {\n                  size: \"27\",\n                  color: \"#010103\",\n                  className: \"dlt-disc-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                children: /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  className: \"item-delete-discussion\",\n                  onClick: handleDeleteDiscussion,\n                  children: [/*#__PURE__*/_jsxDEV(RiDeleteBin5Line, {\n                    className: \"icons-dropdown\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 41\n                  }, _this), \"Suppr. discussion\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"discussion\",\n          children: [chatMessages.map(function (msg) {\n            if (msg.userID === '000') {\n              return /*#__PURE__*/_jsxDEV(MsgIn, {\n                msgContent: msg.msg\n              }, uuidv4(), false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 40\n              }, _this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(MsgOut, {\n                msgContent: msg.msg\n              }, uuidv4(), false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 40\n              }, _this);\n            }\n          }), emptyChat]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"text-to-send\",\n        onSubmit: handleAddNewMsg,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: theMessage,\n          onChange: newMessage,\n          onKeyDown: handleKeyDown,\n          className: \"chat-textarea\",\n          autoComplete: \"off\",\n          placeholder: \"Taper un message\",\n          minLength: \"1\",\n          maxLength: \"255\",\n          autoCapitalize: \"on\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"send-button\",\n          style: {\n            cursor: \"\".concat(sendCursor)\n          },\n          children: /*#__PURE__*/_jsxDEV(MdSend, {\n            className: \"send-icon\",\n            color: sendColor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Chat, \"qMhQCWy2LlGccW3dmBC3tQcu1to=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/home/gadacha/Bureau/matcha/src/components/MemberProfile/Chat.js"],"names":["React","useState","useEffect","v4","uuidv4","FaChevronRight","IoChatbubblesSharp","MdSend","BsThreeDots","IoMdHeart","Dropdown","RiDeleteBin5Line","MsgIn","MsgOut","UserImage","Chat","props","chatDrawer","setChatDrawer","moveChatDrawer","e","preventDefault","chatElement","document","querySelector","classList","contains","remove","add","onChatChange","theChatDrawer","chatContent","allChat","msg","userID","chatMessages","setChatMessages","theMessage","setTheMessage","newMessage","target","value","handleAddNewMsg","stopPropagation","prevState","handleKeyDown","key","shiftKey","sendCursor","sendColor","scrollChat","scrollTop","scrollHeight","onConfirmDeleteDiscussion","onDeleteDiscussionConfirmation","deleteDiscussion","act","quest","onConfirm","handleDeleteDiscussion","length","onDeleteDiscussion","emptyChat","map","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { FaChevronRight } from \"react-icons/fa\";\nimport { IoChatbubblesSharp } from \"react-icons/io5\";\nimport { MdSend } from \"react-icons/md\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { IoMdHeart } from \"react-icons/io\";\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport MsgIn from './MsgIn';\nimport MsgOut from './MsgOut';\n\nimport UserImage from \"../../images/user-image.jpg\"\n\n\n\n\nconst Chat = (props) => {\n\n    // CHAT DRAWER ↓↓↓\n    const [chatDrawer, setChatDrawer] = useState(false)\n\n    const moveChatDrawer = e => {\n        e.preventDefault();\n        \n        let chatElement = document.querySelector('.chat');\n        \n        chatElement.classList.contains('chatOpen') ?\n        chatElement.classList.remove('chatOpen') :\n        chatElement.classList.add('chatOpen');\n        \n        setChatDrawer(!chatDrawer)\n        props.onChatChange(!chatDrawer)\n    }\n\n    const theChatDrawer = chatDrawer ?\n                          <FaChevronRight className='iconChatDrawer' /> :\n                          <IoChatbubblesSharp className='iconChatDrawer' /> ;\n\n    const chatContent = chatDrawer ?\n                        'chat-content-open' :\n                        'chat-content-close' ;\n\n    \n                        \n    const allChat = [\n        {\n            msg: \"Salut\",\n            userID: '934'\n        },\n        {\n            msg: \"Bonjour\",\n            userID: '000'\n        },\n        {\n            msg: \"Comment ca va ?\",\n            userID: '934'\n        },\n        {\n            msg: \"Ca va et toi\",\n            userID: '000'\n        },\n        {\n            msg: \"Oui ca va. Tu fais quoi ?\",\n            userID: '934'\n        },\n        {\n            msg: \"Rien de special et toi\",\n            userID: '000'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n            userID: '934'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n            userID: '000'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n            userID: '934'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n            userID: '000'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte\",\n            userID: '934'\n        },\n        {\n            msg: \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \",\n            userID: '000'\n        },\n        {\n            msg: \"Non meme pas...\",\n            userID: '934'\n        },\n        {\n            msg: \"Au revoir\",\n            userID: '000'\n        }\n    ]\n    \n    // CHAT MESSAGES ↓↓↓\n    const [chatMessages, setChatMessages] = useState(allChat)\n    \n\n    // WRITTEN MESSAGE ↓↓↓\n    const [theMessage, setTheMessage] = useState('')\n\n    const newMessage = (e) => {\n        setTheMessage(e.target.value)\n    }\n    \n    \n    // SEND MESSAGE ↓↓↓\n    const handleAddNewMsg = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (theMessage !== '') {\n            setChatMessages(prevState => [...prevState, {\n                msg: theMessage,\n                userID: '000'\n            }]);\n            setTheMessage('');\n        }\n    }\n    \n\n    // SEND MSG WITH ENTER KEY ↓↓↓\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            handleAddNewMsg(e);\n        }\n    }\n\n\n    // SEND BUTTON STYLE ↓↓↓\n    const sendCursor = theMessage === '' ? 'initial' : 'pointer' ;\n    const sendColor = theMessage === '' ? '#8FA3AD' : '#007bff' ;\n\n\n    // SCROLL IN BOTTOM ↓↓↓\n    useEffect( () => {\n        const scrollChat = document.querySelector('.discussion')\n        scrollChat.scrollTop = scrollChat.scrollHeight\n    }, [chatMessages])\n    \n    \n    // DELETE DISCUSSION ↓↓↓\n    const onConfirmDeleteDiscussion = () => {\n        setChatMessages([]);\n        props.onDeleteDiscussionConfirmation();\n    }\n\n    const deleteDiscussion = {\n        act: \"Supprimer la discussion\",\n        quest: \"supprimer le contenu de la discussion\",\n        onConfirm: onConfirmDeleteDiscussion\n    }\n\n    const handleDeleteDiscussion = () => {\n        chatMessages.length !== 0 &&\n        props.onDeleteDiscussion(deleteDiscussion);\n        \n    }\n\n    const emptyChat = chatMessages.length === 0 ?\n                      <div className='empty-chat'>La discussion est vide.</div> :\n                      null;\n\n    \n    return (\n        <div className='chat'>\n            <div className='iconChatDrawerDiv centerElementsInPage' onClick={moveChatDrawer}>\n                <span className='nb-notif-chat-drawer'>3</span>\n                {theChatDrawer}\n            </div>\n            <div className={chatContent}>\n                <div className='discussionContainer'>\n                    <div className='interlocutor'>\n                        <div className='interlocutor-left-part'>\n                            <img src={UserImage} alt='interlocutor' className='interlocutor-image'/>\n                            <span className='interlocutor-name'>username-269428</span>\n                        </div>\n                        <div className='interlocutor-right-part'>\n                            <IoMdHeart size='23' color='#010103' className='m-1' />\n                            <Dropdown className='m-1'>\n                                <Dropdown.Toggle className='toogle-delete-discussion'>\n                                    <BsThreeDots size='27' color='#010103' className='dlt-disc-icon' />\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu>\n                                    <Dropdown.Item className='item-delete-discussion' onClick={handleDeleteDiscussion}>\n                                        <RiDeleteBin5Line className='icons-dropdown' />\n                                        Suppr. discussion\n                                    </Dropdown.Item>\n                                </Dropdown.Menu>\n                            </Dropdown>\n                        </div>\n                    </div>\n                    <div className='discussion'>\n                        {chatMessages.map( msg => {\n                            if (msg.userID === '000'){\n                                return <MsgIn key={uuidv4()} msgContent={msg.msg} />\n                            }\n                            else {\n                                return <MsgOut key={uuidv4()} msgContent={msg.msg} />\n                            }\n                        })}\n                        {emptyChat}\n                    </div>\n                </div>\n                <form className='text-to-send' onSubmit={handleAddNewMsg}>\n                    <textarea\n                        value={theMessage}\n                        onChange={newMessage}\n                        onKeyDown={handleKeyDown}\n                        className='chat-textarea'\n                        autoComplete='off'\n                        placeholder='Taper un message'\n                        minLength='1'\n                        maxLength='255'\n                        autoCapitalize='on'\n                    />\n                    <button type='submit'className='send-button' style={{cursor: `${sendCursor}` }} >\n                        <MdSend className='send-icon' color={sendColor} />\n                    </button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}