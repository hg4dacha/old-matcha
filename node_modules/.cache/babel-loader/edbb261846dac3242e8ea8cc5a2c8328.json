{"ast":null,"code":"// import React, { useState, useEffect, Fragment } from 'react';\n// const getCityFromCoordinates = (props) => {\n//     const [error, setError] = useState(null);\n//     const [isLoaded, setIsLoaded] = useState(false);\n//     const [items, setItems] = useState([]);\n//     useEffect( () => {\n//         fetch(\"https://nominatim.openstreetmap.org/reverse?lat=48.862725&lon=2.287592&format=json&accept-language=fr-FR\")\n//         .then(res => res.json())\n//         .then(\n//         (result) => {\n//             setIsLoaded(true);\n//             setItems(result);\n//         },\n//         (error) => {\n//             setIsLoaded(true);\n//             setError(error);\n//         })\n//         // getCity();\n//     }, [])\n//     // const getCity = () => {\n//     //     if (error) {\n//     //         console.log(error.message);\n//     //     }\n//     //     else if (!isLoaded) {\n//     //         console.log('Chargement...');\n//     //     }\n//     //     else {\n//     //         console.log(items);\n//     //     }\n//     // }\n//     return (\n//         <Fragment>\n//             {items}\n//         </Fragment>\n//     )\n// }\nvar getCityFromCoordinates = function getCityFromCoordinates(lat, lng) {\n  var success = null;\n  var failed = null;\n  var loading = 'Chargement...';\n  fetch(\"https://nominatim.openstreetmap.org/reverse?lat=\".concat(lat, \"&lon=\").concat(lng, \"&format=json&accept-language=fr-FR\")).then(function (res) {\n    return res.json();\n  }).then(function (result) {\n    success = result.items;\n  }, function (error) {\n    failed = error;\n  });\n\n  if (failed) {\n    return false;\n  } else if (success) {\n    return success;\n  } else {\n    return loading;\n  }\n\n  while (!failed && !success) {\n    if (failed) {\n      return;\n    }\n  }\n};\n\nexport default getCityFromCoordinates;","map":{"version":3,"sources":["/home/gadacha/Bureau/matcha/src/components/Profile/getCityFromCoordinates.js"],"names":["getCityFromCoordinates","lat","lng","success","failed","loading","fetch","then","res","json","result","items","error"],"mappings":"AAAA;AAMA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,GAAD,EAAMC,GAAN,EAAc;AAEzC,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,MAAM,GAAG,IAAb;AACA,MAAIC,OAAO,GAAG,eAAd;AAEAC,EAAAA,KAAK,2DAAoDL,GAApD,kBAA+DC,GAA/D,wCAAL,CACCK,IADD,CACM,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GADT,EAECF,IAFD,CAGA,UAACG,MAAD,EAAY;AACRP,IAAAA,OAAO,GAAGO,MAAM,CAACC,KAAjB;AACH,GALD,EAMA,UAACC,KAAD,EAAW;AACPR,IAAAA,MAAM,GAAGQ,KAAT;AACH,GARD;;AAUA,MAAIR,MAAJ,EACA;AACI,WAAO,KAAP;AACH,GAHD,MAIK,IAAID,OAAJ,EACL;AACI,WAAOA,OAAP;AACH,GAHI,MAKL;AACI,WAAOE,OAAP;AACH;;AAED,SAAQ,CAACD,MAAD,IAAW,CAACD,OAApB,EAA8B;AAE1B,QAAIC,MAAJ,EACA;AACI;AACH;AACJ;AAEJ,CArCD;;AAuCA,eAAeJ,sBAAf","sourcesContent":["// import React, { useState, useEffect, Fragment } from 'react';\n\n\n\n\n\n// const getCityFromCoordinates = (props) => {\n\n//     const [error, setError] = useState(null);\n//     const [isLoaded, setIsLoaded] = useState(false);\n//     const [items, setItems] = useState([]);\n\n\n//     useEffect( () => {\n\n//         fetch(\"https://nominatim.openstreetmap.org/reverse?lat=48.862725&lon=2.287592&format=json&accept-language=fr-FR\")\n//         .then(res => res.json())\n//         .then(\n//         (result) => {\n//             setIsLoaded(true);\n//             setItems(result);\n//         },\n//         (error) => {\n//             setIsLoaded(true);\n//             setError(error);\n//         })\n//         // getCity();\n\n//     }, [])\n\n//     // const getCity = () => {\n//     //     if (error) {\n//     //         console.log(error.message);\n//     //     }\n//     //     else if (!isLoaded) {\n//     //         console.log('Chargement...');\n//     //     }\n//     //     else {\n//     //         console.log(items);\n//     //     }\n//     // }\n\n//     return (\n//         <Fragment>\n//             {items}\n//         </Fragment>\n//     )\n\n// }\n\nconst getCityFromCoordinates = (lat, lng) => {\n\n    var success = null;\n    var failed = null;\n    var loading = 'Chargement...';\n\n    fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json&accept-language=fr-FR`)\n    .then(res => res.json())\n    .then(\n    (result) => {\n        success = result.items;\n    },\n    (error) => {\n        failed = error;\n    })\n\n    if (failed)\n    {\n        return false;\n    }\n    else if (success)\n    {\n        return success;\n    }\n    else\n    {\n        return loading;\n    }\n\n    while ( !failed && !success ) {\n        \n        if (failed)\n        {\n            return \n        }\n    }\n\n}\n\nexport default getCityFromCoordinates;"]},"metadata":{},"sourceType":"module"}